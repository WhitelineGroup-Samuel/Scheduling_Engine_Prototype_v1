# =============================================================================
# File: alembic.ini
# Purpose:
#   Alembic configuration file. Points to app/db/alembic_env.py for environment
#   setup and uses DATABASE_URL from settings.
#
# Responsibilities:
#   - Configure script_location = migrations
#   - Logging config for Alembic (optional).
#
# Collaborators:
#   - app/db/alembic_env.py, migrations/versions/*
# =============================================================================

# =============================================================================
# File: alembic.ini
# Purpose:
#   Alembic configuration for the Scheduling Engine.
#   - Sets script_location to "migrations/"
#   - Defers database URL resolution to app/db/alembic_env.py (Settings)
#
# How this integrates
# -------------------
# - Alembic CLI (e.g., `alembic upgrade head`) reads this file.
# - The environment script logic lives in `app/db/alembic_env.py`.
#   A thin `migrations/env.py` (if present) should import and delegate to
#   run_migrations_online() from that module.
#
# Requirements for Codex implementation
# -------------------------------------
# - [alembic] section MUST include:
#     script_location = migrations
# - Do NOT put sqlalchemy.url here; the env script builds it from env vars.
# - Optional logging config is fine but keep it minimal.
#
# Notes
# -----
# - We operate in online mode only for now.
# - CI will run `alembic upgrade head` against the `scheduling_test` database.
# =============================================================================

[alembic]
script_location = migrations
file_template = %%(year)04d%%(month)02d%%(day)02d_%%(hour)02d%%(minute)02d_%%(rev)s_%%(slug)s
timezone = UTC

[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s

sqlalchemy.url =
